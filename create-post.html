{% extends "base.html" %}

{% block title %}Create Post - MANS University Blog{% endblock %}

{% block extra_css %}
<!-- Using Quill editor instead of TinyMCE -->
<link href="https://cdn.quilljs.com/1.3.6/quill.snow.css" rel="stylesheet">
<script src="https://cdn.quilljs.com/1.3.6/quill.min.js"></script>
{% endblock %}

{% block content %}
<section class="post-form-section">
    <h2>Create New Post</h2>
    
    <form method="post" enctype="multipart/form-data" class="post-form">
        <div class="form-row">
            <div class="form-group">
                <label for="title">Post Title *</label>
                <input type="text" id="title" name="title" required maxlength="200" 
                       placeholder="Enter an engaging title for your post">
            </div>
            
            <div class="form-group">
                <label for="author">Author *</label>
                <input type="text" id="author" name="author" required maxlength="100"
                       placeholder="Your name or organization">
            </div>
        </div>

        <div class="form-row">
            <div class="form-group">
                <label for="category">Category *</label>
                <select id="category" name="category" required>
                    <option value="">Select a category</option>
                    <option value="Announcements">Announcements</option>
                    <option value="Research">Research</option>
                    <option value="Student Life">Student Life</option>
                    <option value="Faculty">Faculty</option>
                    <option value="Innovation">Innovation</option>
                    <option value="Events">Events</option>
                    <option value="Academic">Academic</option>
                    <option value="News">News</option>
                </select>
            </div>
            
            <div class="form-group">
                <label for="image">Featured Image</label>
                <input type="file" id="image" name="image" accept="image/*">
                <small class="form-help">Upload an image to make your post more engaging (PNG, JPG, GIF, WebP)</small>
            </div>
        </div>

        <div class="form-group">
            <label for="content">Post Content *</label>
            <div id="editor-container" style="height: 300px;"></div>
            <textarea id="content" name="content" required style="display: none;"></textarea>
        </div>

        <div class="form-group">
            <label class="checkbox-label">
                <input type="checkbox" name="featured">
                Mark as featured post
            </label>
        </div>

        <div class="form-actions">
            <button type="submit" class="btn-primary">Publish Post</button>
            <a href="{{ url_for('index') }}" class="btn-secondary">Cancel</a>
        </div>
    </form>
</section>
{% endblock %}

{% block extra_js %}
<script src="{{ url_for('static', filename='js/post-editor.js') }}"></script>
{% endblock %}
